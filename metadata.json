{
  "audit_version": "v0",
  "description": "Baseline calibration audit of ALeRCE transient classifier",
  "status": "exploratory — not publication-level",
  "data": {
    "broker": "ALeRCE",
    "classifier": "lc_classifier_transient",
    "ztf_data": "ZTF archival alerts",
    "ground_truth": "TNS spectroscopic classifications",
    "n_objects": 815,
    "classes": ["SNIa", "SNII", "TDE", "AGN"],
    "class_counts": {
      "SNIa": 312,
      "SNII": 247,
      "AGN": 163,
      "TDE": 93
    },
    "selection_bias": "Spectroscopically confirmed sample; not representative of full ZTF alert stream"
  },
  "calibration_metrics": {
    "ece_baseline": {
      "n_bins_10": 0.281,
      "n_bins_15": 0.297,
      "n_bins_20": 0.304,
      "binning_strategy": "uniform_width",
      "formulation": "top-label ECE (Guo et al. 2017)"
    },
    "ece_per_class": {
      "SNIa": 0.241,
      "SNII": 0.318,
      "TDE": 0.389,
      "AGN": 0.271
    },
    "post_hoc_calibration": {
      "temperature_scaling": {
        "fitted_temperature": 2.3,
        "ece_after": 0.14,
        "validation_split": 0.2
      },
      "isotonic_regression": {
        "ece_after": 0.11,
        "validation_split": 0.2,
        "note": "May overfit; held-out test evaluation pending"
      },
      "platt_scaling": {
        "ece_after": 0.16,
        "validation_split": 0.2
      }
    }
  },
  "key_finding": "ALeRCE transient classifier shows substantial overconfidence (ECE=0.297), particularly at high confidence scores (0.9-1.0 bin: accuracy ~0.71 vs confidence ~0.95). Post-hoc calibration reduces ECE substantially.",
  "methodological_notes": "See docs/methodology.md for full discussion of limitations and selection biases.",
  "references": {
    "alerce_classifier": "Sánchez-Sáez et al. (2021), AJ 161, 141",
    "ece_definition": "Guo et al. (2017), ICML; Nixon et al. (2019), CVPR Workshops"
  }
}
